server:
  port: 9002
spring:
  application:
    name: shop-service-order
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/spring_cloud?characterEncoding=utf8&serverTimezone=UTC
    username: root
    password: 123456
  jpa:
    database: mysql
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL57Dialect

#在服务消费方配置负载均衡策略，下面为服务提供方id及负载均衡策略
#com.netflix.loadbalancer.RoundRobinRule ：以轮询的方式进行负载均衡。
#com.netflix.loadbalancer.RandomRule ：随机策略
#com.netflix.loadbalancer.RetryRule ：重试策略。
#com.netflix.loadbalancer.WeightedResponseTimeRule ：权重策略。会计算每个服务的权重，越高的被调用的可能性越大。
#com.netflix.loadbalancer.BestAvailableRule ：最佳策略。遍历所有的服务实例，过滤掉故障实例，并返回请求数最小的实例返回。
#com.netflix.loadbalancer.AvailabilityFilteringRule ：可用过滤策略。过滤掉故障和请求数超过阈值的服务实例，再从剩下的实力中轮询调用。
#客户端负载均衡和服务端负载均衡最大的区别在于服务清单所存储的位置。在客户端负载均衡中，所有的客户端节点都有一份自己要访问的服务端清单，这些清单统统都是从Eureka服务注册中心获取的。
shop-service-product:
  ribbon:
    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule

eureka:
  client:
    #Eureka服务端路径
    serviceUrl:
      defalutZone: http://eureka1:8761/eureka,http://eureka2:8762/eureka
  instance:
    #使用IP注册
    prefer-ip-address: true
    #自定义注册名字 ，spring.cloud.client.ip-address为springcloud获取本机ip地址
    instance-id: ${spring.cloud.client.ip-address}:${server.port}